# 7-1 Object-Oriented Design using the UML
---
<br>

### ✅ An object-oriented design process (객체 지향 설계 프로세스)

- 구조화된 **객체지향 설계 프로세스**는 그 과정에서 **다양한 시스템 모델을 개발**합니다.
  그리고 이러한 시스템 모델들을 개발하고 유지보수하는 데 많은 비용과 노력이 필요합니다.
<br>

- 때문에 객체지향 설계는 주로 대규모 시스템에 적합합니다. 여러 서로 다른 그룹에 의해 개발된 **대규모 시스템의 경우, 디자인 모델이 중요한 의사소통 메커니즘이 되기도 합니다.** 
  그러나 소규모 시스템 개발에는 객체지향 설계가 그다지 가성비가 좋지 않을 수 있습니다.
<br>

### ✅ Process stages (프로세스 단계)

- 조직에 따라 다를순 있지만, 일반적으로 객체지향 설계는 다음과 같은 단계를 거칩니다.
<br>

  #### 1. **시스템 사용 모드 및 맥락 정의**

  #### 2. **시스템 아키텍처 설계**

  #### 3. **주요 시스템 객체 파악**

  #### 4. **디자인 모델 개발**

  #### 5. **객체 인터페이스 명세화**
<br>

- 이 장에서는 Wilderness Weather Station의 설계를 예시로 이러한 단계들을 살펴보도록 하겠습니다.

<br>

### ✅ System context and interactions (시스템 컨텍스트와 상호 작용)
> <br>
> 
> 객체지향 설계의 첫 번째 단계인 **시스템 사용 모드 및 맥락 정의 단계**입니다.
> 
> <br>
> 
> - 설계 중인 소프트웨어와 외부 환경 사이의 관계, 즉 **컨텍스트(Context) 를 이해하는 것은 매우 중요합니다.**
>   이 관계를 알아야만 우리는 시스템을 개발하며 **어떻게 필요한 기능을 제공할 것인지**, 그리고 시스템이 속한 환경과 시스템이 상호작용할 수 있도록 **어떻게 시스템 구조를 짤 것인지**를 결정할 수 있습니다.
> 
> <br>
> 
> - 또한 **컨텍스트를 이해하면 시스템의 경계(boundary)를 설정할 수 있습니다.** 
  System boundary를 설정하면 현재 설계 중인 시스템에서 구현되는 기능은 무엇이고, 다른 시스템에서 구현되는 기능은 무엇인지 파악하기 쉬워집니다.
> 
> <br>

<br>

### ✅ Context and interaction models (컨텍스트 모델과 상호 작용 모델)

- **시스템 컨텍스트 모델** (System Context Model)
  - 시스템 컨텍스트 모델은 다른 시스템과 현재 개발하고 있는 시스템의 환경 사이에 어떤 관계가 있는지에 초점을 두고, 이를 구조적으로 보여주는 모델입니다.
<br>

- **상호 작용 모델** (Interaction Model)
  - 상호 작용 모델은 시스템이 사용되면서 시스템 환경과 동적으로 상호 작용하는 방식에 초점을 둔 모델입니다.
<br>

#### Weather Station의 시스템 컨텍스트
![캡처](https://i.imgur.com/SPpoOiJ.png)
<br>

#### Weather Station의 기상 보고 기능에 대한 Use Case
![캡처](https://i.imgur.com/i5gXVEN.png)
<br>

#### Use Case에 대한 설명
<table>
  <tr>
    <td><b>시스템</td>
    <td><b>Weather Station (기상 관측소)</td>
  </tr>
  <tr>
    <td>Use case</td>
    <td>날씨 보고</td>
  </tr>
  <tr>
    <td>주체 (Actors)</td>
    <td>날씨 정보 시스템, 기상청</td>
  </tr>
  <tr>
    <td>설명</td>
    <td>
      <p>기상청은 수집 기간의 기구에서 수집한 기상 데이터를 요약하여 기상 정보 시스템에 전송합니다. 전송되는 데이터는 다음과 같습니다.</p>
    <ul>
      <li>지면 & 공기 온도 (최대 / 최소 / 평균)</li>
      <li>기압 (최대 / 최소 / 평균)</li>
      <li>풍속 (최대 / 최소 / 평균)</li>
      <li>풍향 (5분 간격)</li>
      <li>총 강우량</li>
    </ul></td>
  </tr>
  <tr>
    <td>자극 (Stimulus)</td>
    <td>기상정보시스템은 기상관측소과 위성통신 링크를 구축하고 데이터 전송을 요청합니다.</td>
  </tr>
  <tr>
    <td>반응 (Response)</td>
    <td>요약된 데이터는 기상정보시스템으로 전송됩니다.</td>
  </tr>
  <tr>
    <td>비고 (Comments)</td>
    <td>기상관측소는 보통 한 시간에 한 번씩 보고하도록 요구되지만, 이 빈도는 방송국마다 다를 수 있으며 향후 수정될 수도 있습니다.</td>
  </tr>
</table>
<br>

### ✅ Architectural design (아키텍처 설계)
> <br>
> 
>  시스템과 환경 간의 상호 작용이 이해되었다면, 이제는 이 정보를 시스템 아키텍처를 설계하는 데 사용합니다.
> 
> <br>
> 
> - **아키텍처 설계 단계**에서는, 시스템과 그 시스템의 상호작용을 구성하는 주요 컴포넌트들을 파악합니다.
  그리고 이 컴포넌트들을 계층형 모델이나 클라이언트-서버 모델 등의 아키텍처 패턴을 사용하여 구성할 수 있습니다.
> 
> <br>

<br>

#### 기상관측소의 아키텍처 (High-level)

기상 관측소의 경우, 독립적인 하위 시스템들이 공통 인프라에서 메시지를 방송하며 통신하는 구조로 이루어져 있습니다.

![캡처](https://i.imgur.com/5sssson.png)
<br>

#### 하위 시스템 (데이터 수집 시스템) 의 구조
![캡처](https://i.imgur.com/FSA4csC.png)
<br>

### ✅ Object class identification (객체 클래스 식별)
> <br>
> 
> 다음은 **주요 객체 클래스를 파악하는 단계**입니다. 객체 클래스를 식별하는 것은 객체 지향 설계에서 가장 어려운 부분 중 하나입니다.
> 
> <br>
> 
> - 오브젝트 식별은 오로지 시스템 설계자의 기술, 경험 및 도메인 지식에 의존합니다. 안타깝게도 객체 식별을 위한 '마법의 공식'은 없습니다.
> 
> <br>
> 
> - 객체 식별은 반복적인 프로세스입니다. 처음부터 그것을 제대로 하기란 쉽지 않습니다.
> 
> <br>

<br>

### ✅ Approaches to identification (식별에 대한 접근 방식)
- Object를 식별하는 공식화된 방법은 없지만, 약간의 경험적 가이드는 제시할 수 있습니다.
<br>

  - 시스템에 대한 자연어 설명에 기반한 문법적 접근 방식을 사용합니다.
    예를 들어, 객체와 속성 같은 경우는 명사일 가능성이 크고, 서비스나 함수 같은 경우는 동사일 가능성이 큽니다.
<br>

  - 애플리케이션 도메인에서 실체가 있는, 즉 유형의 사물을 기준으로 오브젝트를 식별합니다.
<br>

  - 행동 방식을 사용하고, 어떤 객체가 어떤 행동에 참여하는지를 관찰하여 그에 따라 객체를 식별합니다.
<br>

  - 시나리오 기반 분석을 사용합니다. 각 시나리오를 분석하면서 객체, 속성 및 메소드를 식별됩니다.
<br>

#### 기상 관측소 객체 클래스
![캡처](https://i.imgur.com/1kEB3W9.png)

- 기상 관측소 시스템의 객체 등급 식별은 시스템에 있는 유형의 하드웨어 및 데이터를 기반으로 식별할 수 있습니다.
  - 지온계, 풍속계, 기압계
    - 시스템의 계측기와 관련된 '하드웨어' 개체인 응용 프로그램 도메인 객체입니다.
  - 기상관측소
    - 기상대의 기본 인터페이스와 환경. 따라서 이는 사용 사례 모델에서 식별된 상호작용을 반영한다.
  - 기상 데이터
      - 계측기의 요약 데이터를 캡슐화합니다.
<br>

### ✅ Design models (디자인 모델)
> <br>
> 
> 다음은 **디자인 모델 개발 단계**입니다.
디자인 모델은 Object와 Object Class, 그리고 이러한 엔티티들 간의 관계를 보여 줍니다.
> 
> <br>
> 
> 설계 모델에는 두 가지 종류가 있습니다.
> 
> - 구조 모델 (Structural models)
    - 구조 모델은 객체 클래스와 관계의 측면에서 시스템의 정적 구조를 설명합니다.
> - 동적 모델 (Dynamic models)
    - 동적 모델은 객체 간의 동적 상호 작용을 설명합니다.
> 
> <br>

<br>

### ✅ Examples of design models (설계 모형의 예)

- **하위 시스템 모델** (Subsystem models)
  - 하위 시스템 모델은 객체들을 논리적인 그룹으로 묶고, 그 그룹들을 일관된 하위 시스템으로 나타냅니다.
<br>

- **시퀀스 모델** (Sequence models)
  - 시퀀스 모델은 객체의 상호 작용들의 순서를 보여줍니다.
<br>

- **상태 머신 모델** (State machine models)
  - 상태 머신 모델은 이벤트에 대응하면서 각각의 오브젝트의 상태가 어떻게 변화하는지 보여줍니다.
<br>

- 다른 모델로는 use-case 모델, aggregation 모델, generalization 모델 등이 있습니다. (6장에서 소개)
<br>


### ✅ Subsystem models (하위 시스템 모델)

- 설계에서 논리적으로 연관된 개체들이 어떻게 그룹으로 구성하고 있는 지 보여줍니다.
<br>

- UML에서는 캡슐화 구조인 패키지를 사용하여 이러한 정보가 표시됩니다. 
  이것은 논리적인 모델이므로, 시스템의 실제 개체 구성은 다를 수 있습니다.
<br>


### ✅ Sequence models (시퀀스 모델)

- 시퀀스 모델은 발생하는 객체 상호 작용의 시퀀스를 보여줍니다.
  - 물체는 상단을 가로질러 수평으로 배열된다.
  - 시간을 수직으로 표시하여 모델을 위에서 아래로 읽습니다.
  - 상호작용은 라벨이 부착된 화살표로 표시되며, 다른 스타일의 화살표는 서로 다른 유형의 교호작용을 나타낸다.
  - 개체 라이프라인의 얇은 직사각형은 개체가 시스템에서 제어 개체인 시간을 나타냅니다.
<br>

#### 예시 : 데이터 수집을 설명하는 Sequence Diagram
![캡처](https://i.imgur.com/C6DSvw3.png)
<br>


### ✅ State diagrams (상태 다이어그램)

- 상태 다이어그램은 객체가 다양한 서비스 요청에 응답하는 방식과,
  이러한 요청에 기인한 상태 변화의 발생을 보여주는 데 사용됩니다.
<br>

- 상태 다이어그램은 시스템이나 객체의 런타임 동작을 보여주는 유용한 High-level 모델입니다.
<br>

- 보통의 경우엔, 시스템의 모든 개체에 대해 상태 다이어그램을 제작하지는 않습니다. 
  시스템의 많은 객체는 비교적 단순하며, 상태 모델은 설계에 불필요한 세부 사항을 추가합니다.
<br>

#### 기상 관측소의 상태 다이어그램
![캡처](https://i.imgur.com/PGTerlr.png)
<br>

### ✅ Interface specification (인터페이스 명세화)
> <br>
> 
> 다음은 마지막 단계인 인터페이스 명세화 단계입니다.
> 
> <br>
> 
> - 객체 인터페이스는 객체나 컴포넌트들이 병렬적으로 설계될 수 있도록 지정되어야  합니다.
> 
> <br>
> 
> - 설계자가 인터페이스를 설계할 때 인터페이스 자체를 표현하는 것은 피하되, 객체 자체에 인터페이스 표현을 숨겨야 합니다.
> 
> <br>
> 
> - 오브젝트는 제공된 메서드에 대한 관점인 여러 인터페이스를 가질 수 있습니다.
> 
> <br>
> 
> - UML은 인터페이스 사양을 위해 클래스 다이어그램을 사용하지만 자바도 사용할 수 있습니다.
> 
> <br>

<br>

#### 기상 관측소 인터페이스
![캡처](https://i.imgur.com/oiprSuA.png)
<br>

