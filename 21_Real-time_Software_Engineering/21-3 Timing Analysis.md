# 21-3 Timing Analysis
---

<br>

### ✅ Timing analysis (타이밍 분석)
<br>

- 실시간 시스템의 정확성은 **출력의 정확성**뿐만 아니라 이러한 **출력이 생성되는데 걸리는 시간**에 따라 달라집니다.
<br>

- 타이밍 분석에서는 모든 입력이 처리되고 모든 시스템 응답이 적시에 생성되도록 하기 위해, **시스템의 각 프로세스를 실행해야 하는 빈도를 계산합니다.**
<br>

- 타이밍 분석 결과는 **각 프로세스가 얼마나 자주 실행되는지**, 그리고 **실시간 운영 체제에서 이러한 프로세스를 어떻게 스케줄링하는 지** 결정하는 데 사용됩니다.
<br>

### ✅ Factors in timing analysis (타이밍 분석의 요인)
<br>

- **기한** (Deadline)
  - 자극, 또는 시스템에서 생성되는 일부 반응이 처리되어야 하는 시간
<br>

- **빈도** (Frequency)
  - 프로세스가 항상 기한을 준수할 수 있도록 초당 실행해야 하는 횟수
<br>

- **실행시간** (Execution time)
  - 자극을 처리하고 반응을 생성하는 데 필요한 시간
<br>

#### 예시 : 전원 고장 타이밍 분석
![캡처](https://i.imgur.com/dgJ0mkn.png)
<br>

- 공급된 전압이 장비가 손상될 수 있는 수준까지 떨어지는 데 50밀리초(ms)가 걸립니다.
따라서 배터리 백업은 50ms 이내에 활성화되고 작동해야 합니다.
<br>

- 백업 전원 공급 장치를 시작한 후 완전히 작동하려면 16ms가 걸립니다.
<br>

- 초당 250회, 즉 4ms마다 실행되도록 예약된 점검 프로세스가 있습니다.
  - 이 프로세스에서는 판독치 간에 전압 강하가 현저하게 발생하고 이것이 3회 판독치 동안 지속될 경우 전원 공급 장치에 문제가 있다고 가정합니다.
<br>

- 판독값을 측정한 후 바로 전원이 꺼진다고 가정합니다. 따라서 R1 판독값은 전원공급 실패 점검의 시작 판독값입니다. 판독값 R2–R4의 경우 전압이 계속 떨어지므로 전원 고장이 가정됩니다. 이것은 가능한 최악의 경우이다.
<br>

- 이 단계에서 배터리 백업으로 전환하는 프로세스가 시작됩니다. 배터리 백업이 작동하려면 16ms가 걸리기 때문에 이 전환 프로세스의 최악의 실행 시간은 8ms입니다.
<br>

#### 도난 경보 시스템의 타이밍 요구사항
![캡처](https://i.imgur.com/pbd9ofO.png)
<br>

#### 알람 프로세스 타이밍
![캡처](https://i.imgur.com/Ayl6HxM.png)
<br>

#### 처리할 자극

- 전원 고장은 20% 이상의 전압 강하를 관찰함으로써 감지됩니다.
  - 주 전원을 배터리 백업으로 전환하는 전자 전원 공급 장치에 신호를 보내 회로를 백업 전원으로 전환하는 것이 필요합니다.
<br>

- 침입자 경보는 시스템 센서 중 하나에 의해 생성되는 자극입니다.
  - 이 자극에 대한 반응은 활성 센서의 방 번호를 계산하고, 경찰에 전화를 설정하고, 음성 합성기를 작동시켜 통화를 관리하고, 청각적 침입자 경보와 건물 조명을 켜는 것이다.
<br>

#### 빈도 및 실행 시간
<br>

- 상태 변화를 감지하는 데 걸리는 시간은 0.25초이며, 이는 각 센서를 초당 4번 점검해야 한다는 것을 의미한다. 각 프로세스 실행 중에 센서 1개를 검사하는 경우 특정 유형의 센서가 N개일 경우 모든 센서가 기한 내에 확인되도록 초당 4N번 프로세스를 예약해야 합니다.
<br>

- 예를 들어, 각 프로세스 실행 중에 4개의 센서를 검사하면 실행 시간이 약 4ms로 증가하지만, 타이밍 요구 사항을 충족하려면 프로세스를 초당 N번만 실행하면 됩니다.
