# 21-4 Real-time Operating Systems
---

<br>

### ✅ Real-time operating systems (실시간 운영 체제)
<br>

- 실시간 운영 체제(RTOS)는 **RTS의 프로세스를 관리하는 전문 OS**입니다.
<br>

- **프로세스 관리** 및 **리소스(프로세서 및 메모리) 할당**을 담당합니다.
<br>

- 특정 응용 프로그램에 대해 변경되지 않거나 **수정된 표준 커널을 기반으로 할 수 있습니다.**
<br>

- 일반적으로 **파일 관리와 같은 기능은 포함하고 있지 않습니다.**
<br>

### ✅ Operating system components (운영 체제의 구성 요소)
<br>

- **실시간 시계** (Real-time clock) 
  - 공정 스케줄 정보를 제공합니다.
<br>

- **인터럽트 핸들러** ( Interrupt handler)
  - 비주기적인 서비스 요청을 관리합니다.
<br>

- **스케줄러** (Scheduler)
  - 실행할 다음 프로세스를 선택합니다.
<br>

- **리소스 관리자** (Resource manager)
  - 메모리 및 프로세서 자원을 할당합니다.
<br>

- **디스패처** (Dispatcher)
  - 프로세스 실행을 시작합니다.
<br>

#### 실시간 운영 체제의 구성 요소
![캡처](https://i.imgur.com/4o1arPu.png)
<br>

### ✅ Non-stop system components (논스톱 시스템의 구성 요소)

- **구성 관리자** (Configuration manager)
  - 시스템 소프트웨어와 하드웨어의 동적인 재구성을 담당합니다. 시스템을 중단하지 않고 하드웨어 모듈 교체와 소프트웨어 업그레이드를 할 수 있도록 합니다.
<br>

- **오류 관리자** (Fault manager)
  - 소프트웨어와 하드웨어의 고장을 감지하고 적절한 조치(예: 백업 디스크로 전환)를 수행하여 시스템이 계속 작동하도록 보장합니다.
<br>

### ✅ Process management (프로세스 관리)

- 프로세스 관리는 동시 프로세스 집합 관리와 관련이 있습니다.
<br>

- 주기적 프로세스들은 미리 지정된 시간 간격으로 실행됩니다.
<br>

- RTOS는 실시간 클럭을 사용하여 다음을 고려하여 프로세스를 실행할 시기를 결정합니다.
  - 프로세스 주기 → 실행 간격.
  - 처리 기한 → 처리가 완료되어야 하는 시간.
<br>

- 때때로 어떤 자극은 우선해서 처리해야할 수 있습니다. 이때는 계층화된 우선순위에 위해 처리 순서를 정합니다.
<br>

- 가장 높은 우선 순위는 **인터럽트 레벨 우선 순위**입니다. 매우 빠른 응답이 필요한 프로세스에 할당됩니다.
<br>

- 다음은 **클럭 레벨 우선 순위**입니다. 주기적 프로세스에 할당됩니다.
<br>

- 이러한 항목 내에서 추가 우선 순위가 할당될 수 있습니다.
<br>

### ✅ Interrupt servicing (서비스 중단)
<br>

- 제어는 미리 결정된 메모리 위치로 자동으로 전송됩니다.
<br>

- 이 위치에는 인터럽트 서비스 루틴으로 건너뛰는 지침이 포함되어 있습니다.
<br>

- 인터럽트는 비활성화되고, 인터럽트가 서비스되고 제어가 인터럽트 프로세스로 돌아갑니다.??
<br>

- **인터럽트 서비스 루틴은 짧고 단순하며 빨라야 합니다.**
<br>

### ✅ Periodic process servicing (주기적 프로세스의 서비스)

- 대부분의 실시간 시스템에서는 다양한 주기적 프로세스 클래스가 존재하며, 각각 다른 주기(실행 간 시간), 실행 시간, 기한(처리가 완료되어야 하는 시간)을 갖습니다.
<br>

- 실시간 클럭은 주기적으로 틱을 표시하며 각 틱은 프로세스 관리자가 주기적인 프로세스를 예약하는 인터럽트를 발생시킵니다.
<br>

- 프로세스 관리자는 실행할 준비가 된 프로세스를 선택합니다.
<br>

#### 프로세스를 시작하는 데 필요한 RTOS 작업(프로세스 스위칭)
![캡처](https://i.imgur.com/CZ7cUoo.png)

- 스케줄러(scheduler)는 프로세서가 실행할 다음 프로세스를 선택합니다. 이는 프로세스 우선순위를 고려할 수 있는 스케줄링 전략에 따라 달라집니다.
<br>

- 리소스 관리자(resource manager)는 실행될 프로세스를 위해 메모리 및 프로세서를 할당한다.
<br>

- 디스패처(dispatcher)은 준비 목록에서 프로세스를 가져와 프로세서에 로드하고 실행을 시작합니다.
<br>

### ✅ Scheduling strategies (스케줄링 전략)

- 비선점 스케줄링 (Non pre-emptive scheduling)
  - 프로세스가 실행되도록 예약되면 완료까지 실행되거나 어떤 이유로(예: I/O 대기) 차단될 때까지 실행됩니다.
<br>

- 선점 스케줄링 (Pre-emptive scheduling)
  - 우선순위가 높은 프로세스에 서비스가 필요한 경우 실행 중인 프로세스의 실행을 중지할 수 있습니다.
<br>

- 스케줄링 알고리즘
  - 라운드 로빈 (Round-robin)
  - 단조율 (Rate monotonic)
  - 최단기한이 우선 (Shortest deadline first)


